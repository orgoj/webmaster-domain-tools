#!/bin/bash
# Session Start Hook - Auto-setup development environment
# This script runs automatically when Claude Code session starts

set -e

echo "ğŸ”§ Setting up development environment..."

# Install dev dependencies if not already installed
if [ ! -d ".venv" ]; then
    echo "ğŸ“¦ Installing dependencies with uv..."
    uv sync --dev
else
    echo "âœ… Virtual environment already exists"
fi

# Install pre-commit hooks
if [ ! -f ".git/hooks/pre-commit" ]; then
    echo "ğŸª Installing pre-commit hooks..."
    uv run pre-commit install
    echo "âœ… Pre-commit hooks installed"
else
    echo "âœ… Pre-commit hooks already installed"
fi

echo "âœ¨ Development environment ready!"
